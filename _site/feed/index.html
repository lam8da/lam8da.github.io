<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
        xmlns:content="http://purl.org/rss/1.0/modules/content/"
        xmlns:atom="http://www.w3.org/2005/Atom"
  >
  <channel>
    <title>lambda</title>
    <atom:link href="http://localhost:4000/feed/" rel="self" type="application/rss+xml" />
    <link>http://lam8da.github.io</link>
    <lastBuildDate>2016-12-31T17:01:50-08:00</lastBuildDate>
    <webMaster>lambda2fei@gmail.com</webMaster>
    
    <item>
      <title>Unix痛恨者手册读书笔记</title>
      <link>http://localhost:4000/2016/12/unix-haters-handbook-notes/</link>
      <pubDate>2016-12-31T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/12/unix-haters-handbook-notes</guid>
      <content:encoded><![CDATA[<p>一些好玩的段子摘录：</p>

]]></content:encoded>
    </item>
    
    <item>
      <title>修割草机记</title>
      <link>http://localhost:4000/2016/12/lawn-mover-repair/</link>
      <pubDate>2016-12-18T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/12/lawn-mover-repair</guid>
      <content:encoded><![CDATA[<p>很久没割草了，最近大雨连连，前院的野草又疯狂长了起来。岳父说今天把草割了，早上拿出割草机才发现启动不了，还以为是天冷的原因，我们又把机器摆在外面晒了许久太阳，还是不行。找了一个上午的说明书，还是没找到。难道就这样给几十刀送修？不行，于是下午开始网上找视频看看怎样修。借助强大的Google和Youtube了，终于找到这个非常有用的链接：</p>

<ul>
  <li><a href="https://www.youtube.com/watch?v=qzkyFOq1NeE&amp;index=1&amp;list=PLa3_CGj9janQw_dBWFPB29UyZmchH8QvY&amp;t=85s">Lawn Mower Won’t Start: Fuel, Ignition and Compression Problems</a></li>
</ul>

<p>看完后马上去Walmart买了可以买到的各种装备，包括Starter Fluid和Gumout。回来一喷果然有用！花了一天时间，省点小钱，还是很值得的。重要的是可以把以后送修的时间和金钱都省了，在美帝自力更新才是王道啊！</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>回忆与思念</title>
      <link>http://localhost:4000/2016/12/memory/</link>
      <pubDate>2016-12-12T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/12/memory</guid>
      <content:encoded><![CDATA[
]]></content:encoded>
    </item>
    
    <item>
      <title>美国出生宝宝办各种证件心得 - CA</title>
      <link>http://localhost:4000/2016/12/baby-us-documents/</link>
      <pubDate>2016-12-02T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/12/baby-us-documents</guid>
      <content:encoded><![CDATA[<ol>
  <li>出生证和ssn：在医院出生当天就会有专员来让填表，马上就可以申请county clerk recorder开具的出生证，以及ssn。出生证一般6周左右能邮寄到家，ssn会早点。</li>
  <li>
    <p>出生证州务卿认证：出生证到了以后就可以为出生证办理州务卿认证，参考<a href="http://www.sos.ca.gov/notary/authentication/">官方网站</a>，我准备的材料如下（邮寄）：</p>

    <ul>
      <li>出生证原件。不接受复印件。</li>
      <li>附信说明将要去哪个国家使用。（网上说这会决定是使用附加证明书还是普通的认证）</li>
      <li>$20的支票（收款人必须是 Secretary of State）</li>
      <li>包含地址的返程信封（我用的预付费的priority mail）</li>
    </ul>

    <p>我的附信是这样写的：</p>

    <blockquote>
      <p>To Certification Desk - Office of the Secretary of State,</p>

      <p>I would like to request for certification of my son/daughter, XXX’s
birth certificate, issued by Santa Clara County Clerk-Recorder, for use with
China’s consulate in San Francisco.</p>

      <p>Enclosed contents in this mail:</p>
      <ul>
        <li>Original copy of birth certificate, issued by Santa Clara County Clerk-Recorder</li>
        <li>A check of $20.</li>
        <li>This letter.</li>
        <li>A self-addressed envelope for return mail.</li>
      </ul>

      <p>Sincerely yours,</p>

      <p>[手动签名和日期]</p>
    </blockquote>

    <p>然后很恶心的是，usps几乎把我的包裹搞丢了！打了n个投诉电话未果后决定自己去首府跑一趟（过程非常曲折，看年终总结）。准备的东西只要出生证原件就行，现场先填一张申请表，最后用visa支付，立马就能拿到结果。顺道提一句，路上有meter路上有meter路上有meter，不要泊车忘给钱！！！</p>
  </li>
  <li>
    <p>护照：参考<a href="https://travel.state.gov/content/passports/en/passports/apply.html">官方网站</a>。我们去USPS办的，地址在<a href="https://www.google.com/maps/place/37010+Dusterberry+Way,+Fremont,+CA+94536/@37.5558872,-122.0157803,17z/data=!3m1!4b1!4m5!3m4!1s0x808fbf9f3081fa69:0x265d42f0a7cb5dc0!8m2!3d37.555883!4d-122.0135916">37010 DUSTERBERRY WAY, FREMONT, CA, 94536</a>。不用预约，先到先服务。我们办的时候同时把上述认证材料寄出，就省得以后再跑一趟了。准备的材料如下：</p>

    <ul>
      <li>2inch x 2inch护照照片</li>
      <li>出生证原件。不接受复印件。他们会拿走原件，但是说办完会随信退回来。事后是护照先寄回来，后来出生证再退回来了，两个不同的邮件。</li>
      <li>父母双方的id。我们用的自己的中国护照，办事人员拿去复印了。</li>
      <li>父母需要在场。</li>
      <li>DS-11表格。我们事先填好但是办事人员说有点小问题于是在场领一份重新填了。</li>
      <li>visa信用卡用来交钱，交多少钱视加急与否、办护照卡与否而定。</li>
    </ul>
  </li>
  <li>
    <p>出生证领事认证：这个在三藩总领馆办理（门口每天都有法轮功宣传那个），地址在<a href="https://www.google.com/maps/place/1450+Laguna+St,+San+Francisco,+CA+94115/@37.7846962,-122.4298091,17z/data=!3m1!4b1!4m5!3m4!1s0x808580be902b6903:0x45c451fe762bfa6b!8m2!3d37.784692!4d-122.4276204">1450 Laguna St, San Francisco, CA 94115</a>。参考<a href="http://www.chinaconsulatesf.org/chn/qianzhen/gzrz/t1236894.htm">官方网站</a>。要准备的东西有：</p>

    <ul>
      <li>州务卿认证过的出生证原件及复印件</li>
      <li>父母护照原件和复印件（需要带照片资料页和最新的visa页复印件）</li>
      <li>小孩美国护照原件和复印件（需要带照片资料页）</li>
      <li>填好的《中华人民共和国驻外使领馆公证认证申请表》表格一份。填表要注意：
        <ul>
          <li>国籍写中国。写美国你就悲剧了</li>
          <li>身份证件写美国护照的信息</li>
          <li>出生地写美国的城市加州名，比如San Jose, CA</li>
          <li>公证，认证的内容一栏写：出生公证（领事认证）</li>
          <li>公证，认证的使用目的一栏写：随父母回国定居落户</li>
          <li>提交材料及申办公证认证的份数一栏写：经州务卿认证的出生证 1份</li>
        </ul>
      </li>
    </ul>

    <p>如果忘记复印的话在旧金山领馆有投币复印机，25美分一张纸，只收硬币。如果忘带硬币的话拿纸币找工作人员换。如果纸币也忘带的话。。。
办理好后拿到一个取件凭证，过几天再回去取件，取件时再交钱，可以用visa。这些都与办旅行证（下文）相同。</p>
  </li>
  <li>
    <p>旅行证：参考<a href="http://www.chinaconsulatesf.org/chn/qianzhen/fzlxz">官网</a>。父母和小孩都要到场，在办理时工作人员会要求看小孩一眼才签名。</p>

    <ul>
      <li>《中华人民共和国护照/旅行证/回国证明申请表》</li>
      <li>父母在美合法居留文件及复印件，比如I-797</li>
      <li>父母中国护照及复印件，复印件要包括带照片资料页，所有签证页，所有出入中国、美国国境的出入境章</li>
      <li>父母结婚证及复印件</li>
      <li>小孩的美国出生证原件及复印件</li>
      <li>小孩美国护照及复印件，复印件要包括带照片资料页，所有签证页，所有出入中国、美国国境的出入境章</li>
      <li>小孩照片4+1张。其中1张贴申请表，额外4张交进去。</li>
      <li>如果小孩之前曾经办过旅行证这次是过期换领新证，则旧旅行证的原件和复印件都要带上。原件会被收走。复印件要包括带照片资料页和所有出入境盖章页。</li>
    </ul>

    <p>填表时要注意：</p>

    <ul>
      <li>拼音姓名要和美国护照上英文名一样。不需要和中文名拼音一致。例如英文名是Mike San Zhang，其中San是middle name，则英文姓写Zhang，英文名写Mike San。</li>
      <li>出生地点写出生州，比如California</li>
      <li>原证件情况：如果之前办理过旅行证这次是过期换领新证，就写之前旅行证的信息，否则不要填。不要写小孩美国护照的信息（你写了他也会将其擦除）</li>
      <li>国内户籍地址需要填写国内地址（写亲戚的没关系）联系人姓名和电话都需要填写</li>
      <li>是否加入外国籍或持有外国护照这里，外国国籍选否，外国护照选是。需说明情况就写“小孩在国外出生”</li>
      <li>申请人签名需要父母两个人都签字</li>
    </ul>

    <p>其他流程和办理领事认证类似。</p>

    <blockquote class="lambda_question">
      <p>问：每个旅行证貌似必须回过一次才能renew，否则过期了也不能renew？</p>
    </blockquote>
  </li>
</ol>

<p>参考资料：</p>

<ul>
  <li><a href="http://blog.sina.com.cn/s/blog_696aea200101g3n7.html">给美国宝宝办理护照旅行证以及出生证公证认证攻略</a></li>
  <li><a href="https://b.henryzhou.com/index.php/2014/04/american_born_kid_chinese_travel_documents/">美国生华裔小孩在中国驻旧金山领馆办理旅行证和领事认证流程</a></li>
  <li><a href="https://www.delphij.net/wiki/kb/usa/california/sos_certification">办理加州州务卿认证</a></li>
  <li><a href="https://www.delphij.net/wiki/kb/usa/prc/sfconsulate/traveldocument">美国出生的中国公民子女办理中华人民共和国旅行证</a></li>
  <li><a href="https://www.delphij.net/wiki/kb/usa/prc/sfconsulate/cc">领事认证</a></li>
</ul>
]]></content:encoded>
    </item>
    
    <item>
      <title>2016年终总结</title>
      <link>http://localhost:4000/2016/11/2016-summary/</link>
      <pubDate>2016-11-30T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/11/2016-summary</guid>
      <content:encoded><![CDATA[<p>PS：这篇是在12月31号，2016的最后一天补全的。</p>

<p>大事记：</p>

<ul>
  <li>老婆怀上小千金Zoey。整个过程真是一种折磨，首先是老婆患上肺炎，然后baby检查出是two vessel cord，老婆一直担心，一直不停做检查。期间还要搞买房各种破事。后来岳父过来帮忙总算好一点。最后宝宝在11月顺利出生，现在母女平安！（就是带娃好累，经常晚上半小时一醒啊有木有:-(）</li>
  <li>升职加薪，工作真的好累的说！</li>
  <li>借钱凑首付买房，还有买家电各种：看房好累，尤其是在老婆大着肚子还带一个娃的情况下。看了好多好多个周末，Aaron只能下午在车里睡觉，又一次抱出来还着凉感冒了。然后就是下offer，虽然心里在滴血但是还是要下啊，我就搞不明白了就一破房为什么还这么多人抢！接着是贷款，万恶的BOA你特么还不允许两个月rent back？急忙中只能舍利率找了EverBank，然后appraisal还说房价高估了，导致自己要出一部分钱填上，钱不够还问了4个朋借（有的朋友还不借:-(）。我问老婆，这应该是我们最困难的时候了吧？唉。最后总算搞定，半条命都没了。</li>
  <li>买新车！越南人做生意很黑。或者说做车行生意的都很黑。</li>
  <li>妈妈终于成功买了房，也算是了却了一个心愿。我们是在是穷，没能帮上什么忙，要感谢一些亲戚能借钱给妈妈，患难见真情，以后我要好好报答。</li>
  <li>爸爸身体越来越不好了，高血压，肾结石（后来出来了一个），尿酸高（后来貌似好点儿了），风湿性关节炎？手肿脚也肿唉。希望爸爸早日康复身体健康吧</li>
  <li>妹妹转正了，百度糯米，虽然工资不高，但是我也很欣慰了。因为我能看到她那种努力，虽然我不知道过程（有这个结果，怎么也努力过吧？）</li>
</ul>

<p>小事记：</p>

<ul>
  <li>年中的时候开车被一印度女司机给追尾了，Aaron被吓得大哭。后来女司机貌似也吓到了，也算是负责的人，主动找自身保险Geico给我报修。不喜欢那个跟女司机同行的男阿三，油嘴滑舌特么最讨厌了。还换了个算是挺贵的car seat。</li>
  <li>学会修割草机（汽油式）</li>
  <li>在Sacramento吃了一个parking ticket，心有不甘啊</li>
  <li>白跑了一趟Sacramento：本来以为狗日的usps把我的包裹弄丢了，打了n个投诉电话未果，最后决定自己跑一趟，单程2小时来回4小时！停车时还吃了个ticket！排队办理时柜台电脑还坏了！这还算了，结果当天下午回件就寄到家里，心中无数个草泥马狂奔而过啊！一路上很冷，外面都是大雾飘飘，田里都是冰霜，本来还想去首府的usps邮局问清楚的，后来因为时间关系就放过了它。</li>
  <li>多跑了一趟三藩领馆：工作人员把取件日期给写错了我ri啊，一个好好的放假休息的早上就没有了！</li>
  <li>收到了爷爷奶奶姑姑国内寄来的给Aaron的书，寄了两个多月，包装纸箱都变成一堆烂纸皮了，还好书没坏。</li>
  <li>旧车扎了个钉子，做了大量功课后找修车厂免费修好（Wheel Works在这里中枪:-)），并学会怎样做应急处理</li>
</ul>

<p>看过的书：</p>

<ul>
  <li>时间的形状。这是在老婆月子里我晚上带娃的时候拿着电脑看的。。</li>
  <li>然后就没有然后了。。。有了娃越来越没时间看书了，娃的绘本倒是看了不少。。。</li>
</ul>

<p>学到的技术：</p>

<ul>
  <li>bitcoin</li>
  <li>jekyll &amp; github pages</li>
  <li>dre similar image detector</li>
</ul>

<p>经验总结：</p>

<ul>
  <li>有问题问Google！不懂就要做功课！不要盲目做决定！成功的例子是买车，补胎，修割草机。失败的例子多了去了，记不得了。。。</li>
  <li>没事不要随便和女生聊天，老婆看到了可不是闹着玩的。。。</li>
  <li>有时间多陪陪孩子，要耐心点，毕竟他们还什么都不懂啊！以后大了相陪都没机会了</li>
</ul>

<p>最后是感恩，感谢那些2016年帮助过我们的朋友们。没有你们我们是不可能有今天的。</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>补胎心得</title>
      <link>http://localhost:4000/2016/11/tire-repair/</link>
      <pubDate>2016-11-23T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/11/tire-repair</guid>
      <content:encoded><![CDATA[<p>昨天中午出门时发现车胎瘪了，应该是前天出去买菜路上扎的（后来汽车还报警说低气压，可是一直没在意，因为很久没打气了可能刚好气压低过阈值）。在网上做了一晚功课，决定先去找家修理行修车胎，如果不行再去walmart活着costco换。最后今天早上折腾两个多小时终于在wheel works免费修好，写上一些经验和总结以备以后不时之需。</p>

<ol>
  <li>去修理店，如果前台问扎了哪里，不要说扎在边缘上（即使真的离边缘很近），否则老板直接会说修不了建议换胎。总之，避免回答出任何可能导致老板建议换胎的答案。这样做的好处是：有机会把车子让修理师傅看一下，他说不能修才是不能修（这个不是前台说了算的因为他也不懂修，他的最终目的就是换胎赚你钱）</li>
  <li>车子常备一个手动打气筒（电动的应该也行，但我担心电动的由于各种原因在特发情况下不work，手动的应该总是能work的）</li>
  <li>个人觉得那些应急自救包（例如某种神喷射剂，需要自己拔出钉子往里喷，可以坚持好一会的那种；又例如手工修理包，walmart很便宜几块钱那种）貌似没什么用。如果不是专家或有经验，发现被扎后千万不要拔钉，最好打气看看漏得严不严重，如果不严重可以直接开到修理店修。如果拔钉，有可能自救包修不好，就只能千斤顶了；马路上太危险，要么就花（几百块？）叫个拖车？当然，买个应急包还是有用的，万一漏气很严重呢？要把所有可能都想到。</li>
</ol>

<p>其他参考资料：</p>
<ul>
  <li><a href="http://www.weiming.info/zhuti/Automobile/32187019/">http://www.weiming.info/zhuti/Automobile/32187019/</a></li>
  <li><a href="http://www.weiming.info/zhuti/Automobile/32210019/">http://www.weiming.info/zhuti/Automobile/32210019/</a></li>
  <li><a href="http://www.weiming.info/zhuti/Automobile/33395301/">http://www.weiming.info/zhuti/Automobile/33395301/</a></li>
  <li><a href="http://lvchen.blogspot.com/2012/04/blog-post.html">http://lvchen.blogspot.com/2012/04/blog-post.html</a> 自己补胎</li>
  <li><a href="https://www.yelp.com/biz/americas-tire-store-fremont-fremont-3?osq=americas+tire+company">https://www.yelp.com/biz/americas-tire-store-fremont-fremont-3?osq=americas+tire+company</a> 4.0 225reviews</li>
  <li><a href="https://www.yelp.com/biz/big-discount-tire-pros-fremont-2">https://www.yelp.com/biz/big-discount-tire-pros-fremont-2</a> 3.5 71reviews</li>
  <li><a href="https://www.yelp.com/biz/fremont-auto-works-fremont">https://www.yelp.com/biz/fremont-auto-works-fremont</a> 5.0 67reviews</li>
  <li><a href="https://www.yelp.com/biz/performance-auto-care-repair-fremont">https://www.yelp.com/biz/performance-auto-care-repair-fremont</a> 4.5 177reviews</li>
  <li>Comments:
    <ul>
      <li>Firestone很黑</li>
      <li>WALMART也就10块钱</li>
      <li>Discount Tire</li>
      <li>pepboys</li>
      <li>America’s tire不用钱很久了</li>
      <li>Gateway tires也是免费的</li>
    </ul>
  </li>
</ul>

]]></content:encoded>
    </item>
    
    <item>
      <title>读《时间的形状：相对论史话》</title>
      <link>http://localhost:4000/2016/11/shape-of-time-notes/</link>
      <pubDate>2016-11-20T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/11/shape-of-time-notes</guid>
      <content:encoded><![CDATA[<p>这本书的逻辑性很好，从历史的角度介绍了经典物理学在20世纪初遇到的难题以及新理论的提出的过程，让非专业读者都能理解相对论的基本内容。</p>

<h2 id="section">第一章 不得不说的废话</h2>

<ol>
  <li>所有的物理定律都无法被证实，只能被证伪。只有满足了“预言”和“证伪”两个条件，才能冠以科学之名。如果提出一个理论并且其做出的预言永远不能被实验推翻，这个就可以称为伪科学。</li>
  <li>奥卡姆剃刀原理：如果发现一个很奇怪的现象，要对它进行解释而不得不做很多各种各样的假设，则那个需要假设最少的解释往往是最接近真相的解释。例：以太学说（假设以太存在vs光速不变）</li>
</ol>

<h2 id="section-1">第二章 伽利略和牛顿的世界</h2>

<ol>
  <li>伽利略相对性原理：在任何惯性系中，力学规律保持不变</li>
  <li>伽利略变换</li>
</ol>

<h2 id="section-2">第三章 光的速度</h2>

<p>麦克斯韦方程组预言了电磁波的存在，赫兹发现了电磁波并测量了其传播速度，发现等于光速，证实光是一种电磁波。根据麦克斯韦的理论，波的传播速度是相对于介质而言的，不受波源运动速度的影响。于是，光在不同情况下的速度的异同就成了以太是否存在的关键证据。迈克尔逊-莫雷实验却表明：光速在所有情况下都不变。这成了20世纪初物理学第一朵乌云。</p>

<h2 id="section-3">第四章 爱因斯坦和狭义相对论</h2>

<p>在第一朵乌云笼罩下，物理学家都试图用各种解释来说明以太的存在与光速不变不矛盾。只有爱因斯坦开创性地抛弃以太说，引入光速不变原理和（狭义）相对性原理，推导出运动物体的时间膨胀和空间收缩性质（洛伦兹变换）以及新的速度合成公式（合成速度不可能超过光速）。进一步，为了解决”运动速度超过光速会怎样“的问题，爱因斯坦推导出质速关系式（任何有质量物体运动速度都不可能超过光速，否则质量会变成无穷大），准确地说，没有能量和信息的传播速度能超过光速。更进一步，从动能定理和质速关系式出发，爱因斯坦推导出质能方程。</p>

<p>如何理解狭义相对论：</p>
<ul>
  <li>双生子佯谬</li>
  <li>长棍佯谬</li>
  <li>潜水艇佯谬</li>
</ul>

<h2 id="section-4">第五章 广义相对论的宇宙</h2>

<ol>
  <li>爱因斯坦通过思想实验研究<a href="https://zh.wikipedia.org/wiki/%E7%AD%89%E6%95%88%E5%8E%9F%E7%90%86">弱等效原理</a>：观测者不能在局部的区域内分辨出由加速度所产生的惯性力或由物体所产生的引力，而它是由引力质量与惯性质量成正比例这一事实推演出来。通过弱等效原理和思想实验推导出引力会弯曲光线。更进一步，通过”爱因斯坦圆盘实验“，结合狭义相对论，我们可以推导出引力是把时间和空间都弯曲了。</li>
  <li>相对于地面上来说，在地球的高山上的物体运动得快（由于地球自转），根据狭义相对论时间会变慢，而根据广义相对论高山上引力变小因此时间会变快。根据精确计算，广义相对论造成的影响更大。</li>
  <li>引力波的传播速度也是光速。</li>
  <li>爱因斯坦引力场方程成功解释了水星进动现象，爱丁顿进行星光实验进一步验证其正确性</li>
  <li>广义相对论的推论
    <ul>
      <li>黑洞的存在</li>
      <li>白洞</li>
      <li>场方程的一个解允许虫洞（即爱因斯坦-罗森塔尔桥）的存在，虫洞的一端是黑洞另一端是白洞</li>
      <li>宇宙正在加速膨胀</li>
      <li>宇宙有界无限（希尔伯特空间）</li>
    </ul>
  </li>
</ol>

<h2 id="section-5">第六章 红色革命</h2>

<p>主要描述魏嗣銮，相对论在中国的早期传播者之一，被文化大革命打压的历史。我们不希望这样的历史在当今世界重演。</p>

<h2 id="section-6">第七章 时空那点事</h2>

<ul>
  <li>闵可夫斯基四维空间：所有物体的运动速度在该空间中都是光速c。一个物体在三维空间中的速度越快，在时间维度上的速度越慢（根据勾股定理）。光在三维空间中速度达到极限，因此在时间维度上停滞（我们现在看到的遥远星系发出来的光是几十亿年前的光，没有任何变化）</li>
  <li>莫比乌斯带和克莱恩瓶</li>
  <li>如何避免时间旅行带来的逻辑悖论（如回到过去杀死自己的祖母）
    <ul>
      <li>自由意志丧失说</li>
      <li>时空交错说：历史不能被改变，只能被观察</li>
      <li>多历史说（Feynman）：平行世界？</li>
    </ul>
  </li>
  <li>可以制作出一种手表，当速度变化时，其频率随着变化。这样在星际旅行时就能准确知道地球上的时间（即假如这一刻我在地球上，地球上的时间）。</li>
  <li>星际贸易的经济学</li>
</ul>

<h2 id="section-7">第八章 再谈四维空间</h2>

<ul>
  <li>闵可夫斯基四维空间与光锥</li>
  <li>四维空间在三维上的投影和展开</li>
  <li>爱因斯坦认为这个宇宙是：
    <ul>
      <li>定域的：一个事件的将来光锥决定了这个事件对时空的影响范围，而它的过去光锥决定了怎样的时空范围可以影响到这个事件本身，过去光锥和将来光锥都是有大小和形状的，任何事件之间都不可能超越这个范围而产生互相影响</li>
      <li>客观存在的：宇宙万物的运动规律独立于观察者而存在，与观察者（人类）的存在与否无关</li>
      <li>因果律：如果知道宇宙某一时刻的状态且有足够的计算能力，我们就能知道下一刻的状态</li>
    </ul>
  </li>
</ul>

<h2 id="section-8">第九章 上帝的判决</h2>

<ol>
  <li>双缝干涉实验：如果一次只释放一个粒子（光子，电子，etc），在重复这个实验多次以后，仍能得到干涉条纹。问：为什么得到的图像不是两个单缝图像的简单叠加？即单个粒子在穿越一个缝的时候是如何知道另一个缝的存在？</li>
  <li>波尔的解释（哥本哈根解释）：光子同时通过了两个缝</li>
  <li>进一步实验揭示：一旦电子被观测到了（哪怕是电子通过了双缝之后再去观测），干涉条纹便消失了；如果不去观测，又重新出现干涉条纹
    <ul>
      <li><a href="https://zh.wikipedia.org/wiki/%E6%83%A0%E5%8B%92%E5%BB%B6%E8%BF%9F%E9%80%89%E6%8B%A9%E5%AE%9E%E9%AA%8C">惠勒延迟选择实验</a>：通过了双缝之后再去观测</li>
    </ul>
  </li>
  <li>波尔：没有因果律，只有互补原理</li>
  <li>爱因斯坦提出了爱因斯坦-波多尔斯基-罗森（EPR）佯谬，揭示了量子力学的非定域性与我们常识之间的矛盾。
    <ul>
      <li>然后，他进一步把这个想法推广，设想了一桶不稳定的炸药，经过一段时间后，炸药处于爆炸与不爆炸之间的量子叠加态。薛定谔受此启发，把宏观量子叠加态推广到了生命体，提出了处于死与活量子叠加态的薛定谔的猫。这个思维实验提出了一个很尖锐的问题，宏观的量子叠加态何时退化为确定的经典状态？难道是在打开容器的那一瞬间么？摘自<a href="http://www.guokr.com/article/440829/">果壳网</a></li>
    </ul>
  </li>
  <li><a href="https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%B0%94%E5%AE%9A%E7%90%86">贝尔不等式</a>使得EPR实验的检验成为可能。如果实验结果违反了贝尔不等式，说明：
    <ul>
      <li>真有超光速的信号存在，两个量子间可以瞬间相互知道对方的状态（违反定域性）；或者</li>
      <li>量子的自旋状态不是一个客观实在，在我们观测之前不存在确定状态，只有我们观测之后状态才确定（违反客观实在性）</li>
    </ul>
  </li>
</ol>

<h2 id="section-9">第十章 宇宙是一首交响乐</h2>

<ol>
  <li>万物理论，弦论</li>
  <li>两个基本问题：
    <ul>
      <li>物质的最小构成单位：如何击碎粒子（粒子加速器）</li>
      <li>用一个统一的理论解释四种基本作用力（引力，电磁力，强核力，弱核力）</li>
    </ul>
  </li>
  <li>超弦理论与欧拉贝塔函数</li>
</ol>

]]></content:encoded>
    </item>
    
    <item>
      <title>Blogging Resources</title>
      <link>http://localhost:4000/2016/11/blogging-resources/</link>
      <pubDate>2016-11-07T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/11/blogging-resources</guid>
      <content:encoded><![CDATA[<ul id="markdown-toc">
  <li><a href="#resources" id="markdown-toc-resources">Resources</a></li>
  <li><a href="#code-block-highlighting" id="markdown-toc-code-block-highlighting">Code block highlighting</a>    <ul>
      <li><a href="#how-to-use-highlighter" id="markdown-toc-how-to-use-highlighter">How to use highlighter</a></li>
      <li><a href="#how-to-highlight-inlined-code-blocks" id="markdown-toc-how-to-highlight-inlined-code-blocks">How to highlight inlined code blocks</a></li>
    </ul>
  </li>
  <li><a href="#block-inline-attribute-lists-ial" id="markdown-toc-block-inline-attribute-lists-ial">Block inline attribute lists (IAL)</a></li>
  <li><a href="#math-equations" id="markdown-toc-math-equations">Math equations</a></li>
  <li><a href="#tables" id="markdown-toc-tables">Tables</a></li>
</ul>

<h2 id="resources">Resources</h2>
<ol>
  <li>git commands manual: <a href="http://marklodato.github.io/visual-git-guide/index-zh-cn.html">http://marklodato.github.io/visual-git-guide/index-zh-cn.html</a></li>
  <li>markdown manual: <a href="http://www.appinn.com/markdown/">http://www.appinn.com/markdown/</a></li>
  <li>kramdown
    <ul>
      <li>quickref/examples: <a href="http://kramdown.gettalong.org/quickref.html">http://kramdown.gettalong.org/quickref.html</a></li>
      <li>syntax/manual: <a href="http://kramdown.gettalong.org/syntax.html">http://kramdown.gettalong.org/syntax.html</a></li>
    </ul>
  </li>
  <li>rouge options: <a href="https://github.com/jneen/rouge#full-options">https://github.com/jneen/rouge#full-options</a></li>
  <li>latex cheat sheet: <a href="https://wch.github.io/latexsheet/">https://wch.github.io/latexsheet/</a></li>
  <li><a href="http://jekyllrb.com/docs/home">Jekyll docs</a></li>
</ol>

<h2 id="code-block-highlighting">Code block highlighting</h2>

<h3 id="how-to-use-highlighter">How to use highlighter</h3>
<!-- Overwrite the setting to not show line_numbers in fenced code blocks -->

<p>Code block using kramdown (<strong>may not be compactible if not using kramdown</strong>):</p>

<div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">print_hi</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Hi, </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
<span class="n">print_hi</span><span class="p">(</span><span class="s1">'Tom'</span><span class="p">)</span>
<span class="c1">#=&gt; prints 'Hi, Tom' to STDOUT.</span>
</code></pre>
</div>

<p>Code block using Pygments or Rouge by using the <code class="language-ruby highlighter-rouge"><span class="n">highlight</span></code> Liquid tag
(<strong>putting it inside a list will work incorrectly</strong>):</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="k">def</span> <span class="nf">print_hi</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Hi, </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
<span class="n">print_hi</span><span class="p">(</span><span class="s1">'Tom'</span><span class="p">)</span>
<span class="c1">#=&gt; prints 'Hi, Tom' to STDOUT.</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<h3 id="how-to-highlight-inlined-code-blocks">How to highlight inlined code blocks</h3>

<p>I discovered in 11/12/2016 that all (inlined) code blocks generated by rouge are
wrapped by a
<code class="language-ruby highlighter-rouge"><span class="nt">&lt;code&gt;</span></code>
tag with css class set to</p>
<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">language-some_language</span> <span class="nt">highlighter-rouge</span>
</code></pre>
</div>
<p>. So we can copy the highlight.css to highlighter-rouge.css and make same css
rules applicable to</p>
<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nt">highlighter-rouge</span> <span class="nt">span_css_class</span>
</code></pre>
</div>
<p>(e.g. <code class="language-ruby highlighter-rouge"><span class="nt">highlighter-rouge</span> <span class="nt">cp</span></code>).</p>

<p>If the code block is just a block of text, not code, we can append
<code class="language-ruby highlighter-rouge"><span class="p">{</span><span class="ss">:language</span><span class="o">-</span><span class="n">nothing</span><span class="p">}</span></code> to the end of the block to make rouge not generate
colorful html representations. E.g.</p>
<div class="language-markdown highlighter-rouge"><pre class="highlight"><code><span class="sb">`int i = 0;`</span>{:.language-nothing}
</code></pre>
</div>
<p>looks like: <code class="language-nothing">int i = 0;</code></p>

<h2 id="block-inline-attribute-lists-ial">Block inline attribute lists (IAL)</h2>

<p id="para-one">A simple paragraph with an ID attribute.</p>

<blockquote title="The blockquote title" id="myid">
  <p>A blockquote with a title</p>
</blockquote>

<div class="language-ruby ruby highlighter-rouge"><pre class="highlight"><code><span class="no">Some</span> <span class="n">code</span> <span class="n">here</span>
</code></pre>
</div>

<h2 id="math-equations">Math equations</h2>

<script type="math/tex; mode=display">a = b</script>

<script type="math/tex; mode=display">\Large a = b</script>

<h2 id="tables">Tables</h2>

<p>Table with header row:</p>

<table>
  <thead>
    <tr>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  </tbody>
</table>

<p>Table without header row:</p>

<table>
  <tbody>
    <tr>
      <td>a</td>
      <td>b</td>
      <td>c</td>
    </tr>
    <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  </tbody>
</table>

]]></content:encoded>
    </item>
    
    <item>
      <title>买车心得</title>
      <link>http://localhost:4000/2016/09/buying-car-experience/</link>
      <pubDate>2016-09-24T00:00:00-07:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2016/09/buying-car-experience</guid>
      <content:encoded><![CDATA[<p>这天买了辆CRV，还算顺利，跟Anderson Honda讨价还价最后砍了100刀，不算很多，但是成交价也还说得过去。本文是后来补的买车心得。</p>

<ol>
  <li>在truecar和<a href="http://usnews.rankingsandreviews.com/cars-trucks/">http://usnews.rankingsandreviews.com/cars-trucks/</a>上找个quote，找到所有match该价格的买家</li>
  <li>第一家看车一定不能选你最想买的那家：你要先了解情况，试驾，试探市场情况和卖家的情况。这样去下一家的时候心里有数。当然你还是要狠狠的砍价，往比truecar低（例如好几百）的价格砍。注意，truecar也是被他们控制了的。</li>
  <li>找好一个贷款银行，写个preapproval letter，不然车行的利率会很难看（他们可以控制利率）</li>
  <li>砍价或者下offer时不要说你手头上有preapproval
letter，否则当卖家得知自己不能控制利率可能就不会同意更低的价格</li>
  <li>dealer签字时推荐你的各种优惠package不要买（当然除非你非常有必要），他们就是想忽悠你赚钱</li>
</ol>

<p>附上买车前做功课的一些记录，有些很搞笑：</p>

<ol>
  <li>minivan, aka Loser’s Cruiser / Loser’s People Mover。</li>
  <li>经济条件尚可的家庭，谁会不顾全家性命去买minivan？即使上不起8万块的凯雷德或奔驰GL，上5万块的傻笨笨、TAHOE总行吧，再不济上个3万5的大卵狗也成啊。</li>
  <li><a href="http://www.weiming.info/zhuti/Automobile/35183725/">http://www.weiming.info/zhuti/Automobile/35183725/</a>被提及的几款以及相关的有：
    <ul>
      <li>Sequoia</li>
      <li>XC90 , msrp $49K</li>
      <li>Explorer</li>
      <li>Land Cruiser (LC)</li>
      <li>Mercedes Metris, Passenger Van, 6700 pounds,starting at $32K</li>
      <li>durango</li>
      <li>acadia</li>
      <li>pilot</li>
      <li>Compact SUV: Forester, RAV4, CRV, CX</li>
    </ul>
  </li>
  <li>各个级别里安全性最好的车
    <ol>
      <li>Subcompact Sedan : Yaris 丰田鸭梨屎 – 毫无争议的第一名。</li>
      <li>Compact Sedan: Corrola 丰田烤骡拉 – 省油、省心(一车人一起死，一了百了)</li>
      <li>Midsize Sedan: Camry 丰田假美丽– 自动加速、极致吸能</li>
      <li>Fullsize Sedan: Avalon 丰田阿瓦隆 – 平装版Lexus ES</li>
      <li>Compact SUV: RAV4 丰田锐福 – 拉皮内增高版烤骡拉，平装版Lexus NX</li>
      <li>Midsize SUV: Pilot 本田飞行员 – 失控、翻车、头对头，不落下风；安全气囊射金属片。</li>
      <li>Fullsize SUV: Sequoia 丰田四颗牙儿 – 自动加速、刹车失灵、气囊不弹、皮薄馅大。</li>
      <li>Minivan: Sienna 丰田吸爷那儿 – 烤骡拉EX拉皮版，自动加速、刹车失灵、气囊不弹、皮薄馅大外加高速行驶过程中自动开电动侧门</li>
    </ol>
  </li>
  <li><a href="http://www.weiming.info/zhuti/Automobile/32865349/">http://www.weiming.info/zhuti/Automobile/32865349/</a>提到的一些车的问题：
    <ul>
      <li>explorer 操纵性不行。</li>
      <li>丰田highlander爬坡不行</li>
      <li>pilot噪声大，油耗高，transmission问题多。</li>
      <li>大切洛基内部空间没有丢卵狗大。</li>
    </ul>
  </li>
  <li>其他一些链接
    <ul>
      <li>http://www.gjczz.com/p/UVHxVFiX/2016kuan-san-pai-suvshi-jia-ti-yan-durango-explorer-acadia/</li>
      <li>http://www.weiming.info/zhuti/Automobile/35353379/</li>
      <li>http://mitbbstop.blogspot.com/2015/04/compact-suv-experience-with-forester.html</li>
      <li>http://carsort.com/compare-cars</li>
      <li>http://www.autoguide.com/new-cars/compare.html</li>
    </ul>
  </li>
  <li>什么SUV最安全？来自美国IIHS的报告<a href="http://shuoke.autohome.com.cn/article/9410.html">http://shuoke.autohome.com.cn/article/9410.html</a></li>
</ol>

]]></content:encoded>
    </item>
    
    <item>
      <title>拜占庭将军问题</title>
      <link>http://localhost:4000/2014/03/byzantine-general-problem/</link>
      <pubDate>2014-03-08T00:00:00-08:00</pubDate>
      <author>lambda</author>
      <guid>http://localhost:4000/2014/03/byzantine-general-problem</guid>
      <content:encoded><![CDATA[<p>工作之余，花了一周的几乎每个晚上把Lamport神的那篇有关拜占庭将军问题的文章看完了。在这里做下笔记。</p>

<p>个人觉得最难懂的就是OM算法，我将它理解成一个动态规划：</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c1">// @c is the commander id;
// @l is one of the lieutenant id, which belongs to the current lieutenant set;
// @m is the parameter m mentioned in the paper;
// OM(c, l, m) means the final value lieutenant @l obeys from commander @c.
</span>
<span class="o">-</span> <span class="k">if</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">0</span><span class="o">:</span>
<span class="n">OM</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="n">msg</span><span class="p">(</span><span class="n">c</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">),</span> <span class="n">where</span> <span class="n">l</span> <span class="n">in</span> <span class="n">set</span><span class="p">{</span><span class="n">lieutenant</span><span class="p">};</span>

<span class="o">-</span> <span class="k">if</span> <span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">:</span>
<span class="n">OM</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="o">=</span> <span class="n">majority</span><span class="p">(</span>
  <span class="n">msg</span><span class="p">(</span><span class="n">c</span><span class="o">-&gt;</span><span class="n">l</span><span class="p">),</span>
  <span class="n">the</span> <span class="n">list</span> <span class="n">of</span> <span class="n">OM</span><span class="p">(</span><span class="n">l</span><span class="err">'</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="n">where</span> <span class="n">l</span><span class="err">'</span> <span class="n">in</span> <span class="p">(</span><span class="n">set</span><span class="p">{</span><span class="n">lieutenant</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="n">l</span><span class="p">})</span>
<span class="p">).</span>  <span class="c1">// majority
</span></pre></td></tr></tbody></table>
</div>
</div>

<p>实际上，准确来说上面的状态表示是不完全的，OM的第一个参数应该是一个commander的id列表，表示从算法开始的第一个commander通过发消息沿途产生的所有commander。这样说起来还是很抽象，具体还是看下文代码吧。</p>

<p>为了让自己有更深的理解，我用C++实现了一个模拟器，输入general的个数，指定commander是否loyal，模拟算法运行，打印出每条消息以及消息路径，最后得出每个忠诚的lieutenant遵守的命令。目测+用小数据测试没有发现错误，也贴在这里供以后回顾使用。</p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre></td><td class="code"><pre><span class="cp">#include &lt;cstdlib&gt;
#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;set&gt;
#include &lt;map&gt;
#include &lt;string&gt;
</span> 
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">set</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="p">;</span>
<span class="k">using</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
 
<span class="kt">int</span> <span class="n">num_generals</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">commander_is_loyal</span><span class="p">;</span>
<span class="kt">bool</span> <span class="n">is_loyal</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
 
<span class="k">typedef</span> <span class="kt">int</span> <span class="n">ValueType</span><span class="p">;</span>
<span class="k">const</span> <span class="n">ValueType</span> <span class="n">kDefaultValue</span> <span class="o">=</span> <span class="o">-</span><span class="mi">999999999</span><span class="p">;</span>
 
<span class="c1">// Classic algorithm to find the majority: maintain a value and
// a counter, when see a same value, ++counter; otherwise, if
// counter is 0, set the value to the one we see and let counter=1,
// or if counter&gt;0, --counter.
</span><span class="k">struct</span> <span class="n">MajorityCount</span> <span class="p">{</span>
  <span class="n">ValueType</span> <span class="n">majority</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">count</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">seen</span><span class="p">;</span>
 
  <span class="n">MajorityCount</span><span class="p">()</span> <span class="o">:</span> <span class="n">majority</span><span class="p">(</span><span class="n">kDefaultValue</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">seen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">{}</span>
  <span class="n">MajorityCount</span><span class="p">(</span><span class="k">const</span> <span class="n">ValueType</span><span class="o">&amp;</span> <span class="n">v</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="n">s</span><span class="p">)</span>
      <span class="o">:</span> <span class="n">majority</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">count</span><span class="p">(</span><span class="n">c</span><span class="p">),</span> <span class="n">seen</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">{}</span>
 
  <span class="n">MajorityCount</span><span class="o">&amp;</span> <span class="n">Merge</span><span class="p">(</span><span class="k">const</span> <span class="n">MajorityCount</span> <span class="o">&amp;</span><span class="n">other</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">++</span><span class="n">seen</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">majority</span> <span class="o">=</span> <span class="n">other</span><span class="p">.</span><span class="n">majority</span><span class="p">;</span>
      <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">majority</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">majority</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">++</span><span class="n">count</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="o">--</span><span class="n">count</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">*</span><span class="k">this</span><span class="p">;</span>
  <span class="p">}</span>
 
  <span class="kt">void</span> <span class="n">Print</span><span class="p">()</span> <span class="k">const</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">": val="</span> <span class="o">&lt;&lt;</span> <span class="n">majority</span>
         <span class="o">&lt;&lt;</span> <span class="s">", cnt="</span> <span class="o">&lt;&lt;</span> <span class="n">count</span>
         <span class="o">&lt;&lt;</span> <span class="s">", seen="</span> <span class="o">&lt;&lt;</span> <span class="n">seen</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">MajorityCount</span><span class="o">&gt;</span> <span class="n">MapType</span><span class="p">;</span>
<span class="n">MapType</span> <span class="n">val_storage</span><span class="p">;</span>
 
<span class="kt">void</span> <span class="nf">RandomShuffle</span><span class="p">(</span><span class="kt">bool</span> <span class="o">*</span><span class="n">begin</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">;</span> <span class="o">--</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">swap</span><span class="p">(</span><span class="n">begin</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">begin</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">begin</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="s">" "</span><span class="p">);</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="n">string</span> <span class="nf">Itoa</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">res</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
  <span class="n">std</span><span class="o">::</span><span class="n">sprintf</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s">"%d"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="n">string</span> <span class="nf">Join</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="o">&amp;</span> <span class="n">begin</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span><span class="o">&amp;</span> <span class="n">end</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">string</span><span class="o">&amp;</span> <span class="n">delim</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">res</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">begin</span><span class="p">;</span> <span class="n">it</span> <span class="o">!=</span> <span class="n">end</span><span class="p">;</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">res</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">delim</span><span class="p">);</span>
    <span class="n">res</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">Itoa</span><span class="p">(</span><span class="o">*</span><span class="n">it</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="n">ValueType</span> <span class="nf">RandomValue</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// return std::rand() % 97;
</span>  <span class="k">return</span> <span class="mi">250</span><span class="p">;</span>
<span class="p">}</span>
 
<span class="c1">// Updates the value of OM(c, l, m) using OM(l', l, m-1).
</span><span class="kt">void</span> <span class="nf">MergeUp</span><span class="p">(</span>
    <span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">passed_ids</span><span class="p">,</span>
    <span class="k">const</span> <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">remaining_ids</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">key_vec</span> <span class="o">=</span> <span class="n">passed_ids</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">back</span> <span class="o">=</span> <span class="n">key_vec</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
  <span class="n">string</span> <span class="n">src_key</span> <span class="o">=</span> <span class="n">Join</span><span class="p">(</span><span class="n">key_vec</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">key_vec</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="s">"-"</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">required_num_seen</span> <span class="o">=</span> <span class="n">remaining_ids</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
 
  <span class="k">while</span> <span class="p">(</span><span class="n">key_vec</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">key_vec</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
    <span class="n">key_vec</span><span class="p">.</span><span class="n">back</span><span class="p">()</span> <span class="o">=</span> <span class="n">back</span><span class="p">;</span>
    <span class="n">string</span> <span class="n">dst_key</span> <span class="o">=</span> <span class="n">Join</span><span class="p">(</span><span class="n">key_vec</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">key_vec</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="s">"-"</span><span class="p">);</span>
 
    <span class="n">MajorityCount</span> <span class="o">&amp;</span><span class="n">mc</span> <span class="o">=</span> <span class="n">val_storage</span><span class="p">[</span><span class="n">dst_key</span><span class="p">].</span><span class="n">Merge</span><span class="p">(</span><span class="n">val_storage</span><span class="p">[</span><span class="n">src_key</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">is_loyal</span><span class="p">[</span><span class="n">back</span><span class="p">])</span> <span class="n">mc</span><span class="p">.</span><span class="n">majority</span> <span class="o">=</span> <span class="n">RandomValue</span><span class="p">();</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">seen</span> <span class="o">=</span> <span class="n">mc</span><span class="p">.</span><span class="n">seen</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"    "</span> <span class="o">&lt;&lt;</span> <span class="n">src_key</span> <span class="o">&lt;&lt;</span> <span class="s">" =&gt; "</span> <span class="o">&lt;&lt;</span> <span class="n">dst_key</span><span class="p">;</span>
    <span class="n">mc</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
 
    <span class="n">val_storage</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">src_key</span><span class="p">);</span>
 
    <span class="k">if</span> <span class="p">(</span><span class="n">seen</span> <span class="o">==</span> <span class="n">required_num_seen</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">src_key</span> <span class="o">=</span> <span class="n">dst_key</span><span class="p">;</span>
      <span class="o">++</span><span class="n">required_num_seen</span><span class="p">;</span>
      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
 
<span class="c1">// Sequential algorithm: for simplicity, assume that each lieutenant
// will send messages to others when needed.
</span><span class="kt">void</span> <span class="nf">OM</span><span class="p">(</span><span class="k">const</span> <span class="kt">int</span> <span class="n">m</span><span class="p">,</span>
        <span class="k">const</span> <span class="kt">int</span> <span class="n">commander_id</span><span class="p">,</span>
        <span class="k">const</span> <span class="n">ValueType</span> <span class="o">&amp;</span><span class="n">received_val</span><span class="p">,</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">passed_ids</span><span class="p">,</span>  <span class="c1">// the last one is commander_id.
</span>        <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">*</span><span class="n">remaining_ids</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// {1, 2, ..., n-1} - passed_ids
</span>  <span class="k">const</span> <span class="n">string</span> <span class="n">prefix_path</span> <span class="o">=</span>
      <span class="n">Join</span><span class="p">(</span><span class="n">passed_ids</span><span class="o">-&gt;</span><span class="n">begin</span><span class="p">(),</span> <span class="n">passed_ids</span><span class="o">-&gt;</span><span class="n">end</span><span class="p">(),</span> <span class="s">"-"</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">remaining_ids_copy</span><span class="p">(</span><span class="o">*</span><span class="n">remaining_ids</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">remaining_ids_copy</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
        <span class="n">it</span> <span class="o">!=</span> <span class="n">remaining_ids_copy</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">const</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">*</span><span class="n">it</span><span class="p">;</span>
      <span class="n">ValueType</span> <span class="n">val_to_send</span> <span class="o">=</span>
        <span class="p">(</span><span class="n">is_loyal</span><span class="p">[</span><span class="n">commander_id</span><span class="p">]</span> <span class="o">?</span> <span class="n">received_val</span> <span class="o">:</span> <span class="n">RandomValue</span><span class="p">());</span>
 
      <span class="c1">// OM(m), step (1)
</span>      <span class="n">string</span> <span class="n">path</span> <span class="o">=</span> <span class="n">prefix_path</span> <span class="o">+</span> <span class="s">"-"</span> <span class="o">+</span> <span class="n">Itoa</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="k">const</span> <span class="n">MajorityCount</span> <span class="o">&amp;</span><span class="n">mc</span> <span class="o">=</span>
        <span class="n">val_storage</span><span class="p">[</span><span class="n">path</span><span class="p">].</span><span class="n">Merge</span><span class="p">(</span>
            <span class="n">MajorityCount</span><span class="p">(</span><span class="n">is_loyal</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">?</span> <span class="n">val_to_send</span> <span class="o">:</span> <span class="n">RandomValue</span><span class="p">(),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">path</span><span class="p">;</span>
      <span class="n">mc</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
 
      <span class="c1">// OM(m), step (2)
</span>      <span class="n">passed_ids</span><span class="o">-&gt;</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="n">remaining_ids</span><span class="o">-&gt;</span><span class="n">erase</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">mc</span><span class="p">.</span><span class="n">seen</span> <span class="o">==</span> <span class="n">remaining_ids</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">MergeUp</span><span class="p">(</span><span class="o">*</span><span class="n">passed_ids</span><span class="p">,</span> <span class="o">*</span><span class="n">remaining_ids</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">OM</span><span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">val_to_send</span><span class="p">,</span> <span class="n">passed_ids</span><span class="p">,</span> <span class="n">remaining_ids</span><span class="p">);</span>
      <span class="n">remaining_ids</span><span class="o">-&gt;</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
      <span class="n">passed_ids</span><span class="o">-&gt;</span><span class="n">pop_back</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">MergeUp</span><span class="p">(</span><span class="o">*</span><span class="n">passed_ids</span><span class="p">,</span> <span class="o">*</span><span class="n">remaining_ids</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
 
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">tmp</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"+++++++++++++++++++++++++++++++++"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">,</span>
         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"num_generals: "</span><span class="p">,</span>
         <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">num_generals</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_generals</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"m: "</span> <span class="o">&lt;&lt;</span> <span class="n">m</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
 
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"commander_is_loyal? "</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">m</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">tmp</span><span class="p">;</span>
      <span class="n">commander_is_loyal</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'y'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">commander_is_loyal</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"y"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
 
    <span class="n">val_storage</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
    <span class="n">memset</span><span class="p">(</span><span class="n">is_loyal</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">is_loyal</span><span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">commander_is_loyal</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="p">;</span> <span class="n">is_loyal</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">;</span> <span class="n">is_loyal</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nb">false</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">RandomShuffle</span><span class="p">(</span><span class="n">is_loyal</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num_generals</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"---------------------------------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
 
    <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">passed_ids</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="n">set</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">remaining_ids</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num_generals</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">remaining_ids</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="c1">// commander_id=0, received_val=618
</span>    <span class="n">OM</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">618</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">passed_ids</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">remaining_ids</span><span class="p">);</span>
 
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"---------------------------------"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">MapType</span><span class="o">::</span><span class="n">iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">val_storage</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
        <span class="n">it</span> <span class="o">!=</span> <span class="n">val_storage</span><span class="p">.</span><span class="n">end</span><span class="p">();</span> <span class="o">++</span><span class="n">it</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">first</span><span class="p">;</span>
      <span class="n">it</span><span class="o">-&gt;</span><span class="n">second</span><span class="p">.</span><span class="n">Print</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

]]></content:encoded>
    </item>
    
  </channel>
</rss>
